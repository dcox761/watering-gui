import{d as v,r as c,v as x,c as d,w as a,a as e,o as r,b as n,I as g,e as I,f as u,g as _,h as C,x as b,y as h,z as P,H as R,J as w,K as B,i as L,j as T,k as N,L as j,n as q,q as O,A as $,m as z,B as F,C as H,F as M,t as p,O as V}from"./index-BM8d7hAW.js";import{a as m}from"./api-D-UTnZV2.js";const J=v({__name:"ProgramsTabPage",setup(A){const f=c(),l=c();x(async()=>{console.log("onMounted"),l.value||await i()});const i=async()=>(console.log("updatePrograms"),m("programs",void 0,!1,f,void 0,l)),k=async t=>(console.log("handleRefresh"),i().then(()=>{t.target&&t.target.complete()})),y=async t=>(console.log(`handleClick: ${t}`),m(`start/${t}`,"post",void 0,f,"queue"));return(t,o)=>(r(),d(e(O),null,{default:a(()=>[n(e(_),null,{default:a(()=>[n(e(g),null,{default:a(()=>[n(e(I),null,{default:a(()=>o[1]||(o[1]=[u("Programs")])),_:1})]),_:1})]),_:1}),n(e(q),{padding:"",fullscreen:!0},{default:a(()=>[n(e(_),{collapse:"condense"},{default:a(()=>[n(e(g),null,{default:a(()=>[n(e(I),{size:"large"},{default:a(()=>o[2]||(o[2]=[u("Programs")])),_:1})]),_:1})]),_:1}),n(e(C),{ref_key:"loading",ref:f},null,512),n(e(b),{slot:"fixed",onIonRefresh:o[0]||(o[0]=s=>k(s))},{default:a(()=>[n(e(h))]),_:1}),l.value&&Object.keys(l.value).length>0?(r(),d(e(P),{key:0},{default:a(()=>[(r(!0),R(B,null,w(Object.keys(l.value).sort(),s=>(r(),d(e($),null,{default:a(()=>[n(e(z),{fill:"clear",onClick:D=>y(s)},{default:a(()=>[n(e(F),{slot:"icon-only",icon:e(H)},null,8,["icon"])]),_:2},1032,["onClick"]),n(e(M),null,{default:a(()=>[u(p(s),1)]),_:2},1024),n(e(V),{class:"ion-text-wrap ion-text-right"},{default:a(()=>[u(p(l.value[s]),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})):(r(),d(e(L),{key:1},{default:a(()=>[n(e(T),{"text-center":""},{default:a(()=>[n(e(N),null,{default:a(()=>[n(e(j),null,{default:a(()=>o[3]||(o[3]=[u("No programs available.")])),_:1})]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1}))}});export{J as default};
