import{d as E,r as _,v as R,c as d,w as t,a as e,o as r,b as a,I as g,e as I,f as u,g as m,h as b,x as C,y as L,z as T,H as B,J as N,K as q,i as z,j as F,k as H,L as M,n as P,q as V,A as j,F as v,t as f}from"./index-GaKcVyPX.js";import{a as A}from"./api-DLcJ85ra.js";const S=E({__name:"EventsTabPage",setup(D){const i=_(),s=_();R(async()=>{console.log("onMounted"),s.value||await p()});const p=async()=>(console.log("updateEvents"),A("events",void 0,!1,i,void 0,void 0,void 0,o=>{const n=o.split(`
`).map(l=>{const c=l.match(/^(\d{4}-\d{2}-\d{2}) (\d{2}:\d{2}:\d{2}):(.*?):(.*?)$/);if(c){const[G,y,h,w,k]=c;return{date:y,time:h,source:w,details:k}}return null}).filter(l=>l!==null);s.value=n.reverse()})),x=async o=>(console.log("handleRefresh"),p().then(()=>{o.target&&o.target.complete()}));return(o,n)=>(r(),d(e(V),null,{default:t(()=>[a(e(m),null,{default:t(()=>[a(e(g),null,{default:t(()=>[a(e(I),null,{default:t(()=>n[1]||(n[1]=[u("Events")])),_:1})]),_:1})]),_:1}),a(e(P),{padding:"",fullscreen:!0},{default:t(()=>[a(e(m),{collapse:"condense"},{default:t(()=>[a(e(g),null,{default:t(()=>[a(e(I),{size:"large"},{default:t(()=>n[2]||(n[2]=[u("Events")])),_:1})]),_:1})]),_:1}),a(e(b),{ref_key:"loading",ref:i},null,512),a(e(C),{slot:"fixed",onIonRefresh:n[0]||(n[0]=l=>x(l))},{default:t(()=>[a(e(L))]),_:1}),s.value&&s.value.length>0?(r(),d(e(T),{key:0},{default:t(()=>[(r(!0),B(q,null,N(s.value,l=>(r(),d(e(j),null,{default:t(()=>[a(e(v),{class:"ion-text-nowrap",style:{flex:"0 0 auto","margin-right":"10px","white-space":"nowrap"}},{default:t(()=>[u(f(l.date)+" "+f(l.time)+" "+f(l.source),1)]),_:2},1024),a(e(v),{class:"ion-text-wrap",style:{flex:"1 1 auto"}},{default:t(()=>[u(f(l.details),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})):(r(),d(e(z),{key:1},{default:t(()=>[a(e(F),{"text-center":""},{default:t(()=>[a(e(H),null,{default:t(()=>[a(e(M),null,{default:t(()=>n[3]||(n[3]=[u("No events available.")])),_:1})]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1}))}});export{S as default};
