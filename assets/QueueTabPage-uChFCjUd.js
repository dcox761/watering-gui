import{d as P,u as w,s as M,r as N,v as S,c as o,w as l,a as e,o as a,b as n,I as C,e as R,f as r,g as x,h as $,x as q,y as Q,z as V,A as v,i as g,j as p,k as d,m as I,B as _,C as z,D as i,E as D,F as k,t as y,G as E,H as F,J as G,K as H,L as j,n as A,q as J,M as B,N as K}from"./index-Vn36KnaP.js";import{u as T,a as W}from"./api-ClG5CAc9.js";const Y=P({__name:"QueueTabPage",setup(O){const b=w(),{status:u}=M(b),c=N();S(async()=>{if(console.log("onMounted"),!u.value)return T()});const L=async f=>(console.log("handleRefresh"),T().then(()=>{f.target&&f.target.complete()})),m=async f=>(console.log(`handleClick: ${f}`),W(f,"post",void 0,c));return(f,t)=>(a(),o(e(J),null,{default:l(()=>[n(e(x),null,{default:l(()=>[n(e(C),null,{default:l(()=>[n(e(R),null,{default:l(()=>t[4]||(t[4]=[r("Queue")])),_:1})]),_:1})]),_:1}),n(e(A),{padding:"",fullscreen:!0},{default:l(()=>[n(e(x),{collapse:"condense"},{default:l(()=>[n(e(C),null,{default:l(()=>[n(e(R),{size:"large"},{default:l(()=>t[5]||(t[5]=[r("Queue")])),_:1})]),_:1})]),_:1}),n(e($),{ref_key:"loading",ref:c},null,512),n(e(q),{slot:"fixed",onIonRefresh:t[0]||(t[0]=s=>L(s))},{default:l(()=>[n(e(Q))]),_:1}),e(u)&&e(u).stations.length>0?(a(),o(e(V),{key:0},{default:l(()=>[n(e(v),null,{default:l(()=>[n(e(g),null,{default:l(()=>[n(e(p),null,{default:l(()=>[n(e(d),null,{default:l(()=>[e(u).pause_min>0?(a(),o(e(I),{key:0,fill:"clear",onClick:t[1]||(t[1]=s=>m("resume"))},{default:l(()=>[n(e(_),{slot:"start",icon:e(z)},null,8,["icon"]),t[6]||(t[6]=r("Resume"))]),_:1})):i("",!0),e(u).pause_min==0?(a(),o(e(I),{key:1,fill:"clear",onClick:t[2]||(t[2]=s=>m("pause"))},{default:l(()=>[n(e(_),{slot:"start",icon:e(D)},null,8,["icon"]),t[7]||(t[7]=r("Pause"))]),_:1})):i("",!0)]),_:1}),n(e(d),null,{default:l(()=>[e(u).pause_min>0?(a(),o(e(k),{key:0},{default:l(()=>[r("Pausing for "+y(Math.round(e(u).pause_min*10)/10)+" min",1)]),_:1})):i("",!0)]),_:1}),n(e(d),null,{default:l(()=>[e(u).pause_min==0?(a(),o(e(I),{key:0,fill:"clear",class:"ion-float-right",onClick:t[3]||(t[3]=s=>m("stop"))},{default:l(()=>[n(e(_),{slot:"start",icon:e(E)},null,8,["icon"]),t[8]||(t[8]=r("Stop/Clear"))]),_:1})):i("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),(a(!0),F(H,null,G(e(u).stations,s=>(a(),o(e(v),null,{default:l(()=>[n(e(g),null,{default:l(()=>[n(e(p),null,{default:l(()=>[n(e(d),null,{default:l(()=>[n(e(k),null,{default:l(()=>[r(y(s.name),1)]),_:2},1024)]),_:2},1024),n(e(d),null,{default:l(()=>[n(e(k),null,{default:l(()=>[r(y(s.run_time)+" min",1)]),_:2},1024)]),_:2},1024),n(e(d),null,{default:l(()=>[s.on?(a(),o(e(_),{key:0,class:"right-blue",icon:e(B)},null,8,["icon"])):s.current?(a(),o(e(_),{key:1,class:"right-grey",icon:e(B)},null,8,["icon"])):i("",!0)]),_:2},1024)]),_:2},1024),n(e(p),null,{default:l(()=>[n(e(d),null,{default:l(()=>[n(e(K),{value:s.completion},null,8,["value"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})):e(u)?(a(),o(e(g),{key:1},{default:l(()=>[n(e(p),{"text-center":""},{default:l(()=>[n(e(d),null,{default:l(()=>[n(e(j),null,{default:l(()=>t[9]||(t[9]=[r("Watering queue is empty.")])),_:1})]),_:1})]),_:1})]),_:1})):i("",!0)]),_:1})]),_:1}))}});export{Y as default};
